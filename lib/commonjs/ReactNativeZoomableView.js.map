{"version":3,"sources":["ReactNativeZoomableView.tsx"],"names":["initialState","originalWidth","originalHeight","originalPageX","originalPageY","originalX","originalY","pinSize","width","height","ReactNativeZoomableView","Component","defaultProps","zoomEnabled","panEnabled","initialZoom","initialOffsetX","initialOffsetY","maxZoom","minZoom","pinchToZoomInSensitivity","pinchToZoomOutSensitivity","movementSensibility","doubleTapDelay","zoomStep","onLongPress","longPressDuration","contentWidth","undefined","contentHeight","visualTouchFeedbackEnabled","staticPinPosition","staticPinIcon","onStaticPinPositionChange","onStaticPinPositionMove","disablePanOnInitialZoom","panAnim","Animated","ValueXY","x","y","zoomAnim","Value","offsetX","offsetY","zoomLevel","lastGestureCenterPosition","lastGestureTouchDistance","_gestureStarted","gestureStarted","v","longPressTimeout","touches","constructor","props","state","gestureHandlers","PanResponder","create","onStartShouldSetPanResponder","_handleStartShouldSetPanResponder","onPanResponderGrant","_handlePanResponderGrant","onPanResponderMove","_handlePanResponderMove","onPanResponderRelease","_handlePanResponderEnd","onPanResponderTerminate","evt","gestureState","_getZoomableViewEventObject","onPanResponderTerminationRequest","onShouldBlockNativeResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponderCapture","zoomSubjectWrapperRef","zoomAnimatedValue","panAnimatedValueXY","setValue","addListener","value","gestureType","componentDidUpdate","prevProps","prevState","onTransformInvocationInitialized","_invokeOnTransform","successful","currState","originalMeasurementsChanged","staticPinPositionChanged","layout","onLayout","nativeEvent","componentDidMount","measureZoomSubject","measureZoomSubjectInterval","setInterval","componentWillUnmount","clearInterval","debouncedOnStaticPinPositionChange","position","zoomableViewEvent","_staticPinPosition","onTransform","overwriteObj","requestAnimationFrame","setTimeout","current","measure","pageX","pageY","setState","e","persist","stopAnimation","_resolveAndHandleTap","debugPoints","clearTimeout","onPanResponderEnd","onZoomEnd","onShiftingEnd","_updateStaticPin","numberActiveTouches","_handlePinching","Math","abs","dx","dy","isShiftGesture","_handleShifting","distance","onZoomBefore","zoomGrowthFromLastGestureState","pinchToZoomSensitivity","deltaGrowth","deltaGrowthAdjustedBySensitivity","newZoomLevel","gestureCenterPoint","zoomCenter","debug","_setPinchDebugPoints","oldOffsetX","oldOffsetY","oldScale","newScale","offsetShift","_calcOffsetShiftSinceLastGestureState","onZoomAfter","gestureResponderEvent","points","shift","shiftX","shiftY","moveX","moveY","_setNewOffsetPosition","newOffsetX","newOffsetY","onShiftingBefore","onShiftingAfter","now","Date","doubleTapFirstTapReleaseTimestamp","doubleTapFirstTap","_addTouch","id","toString","isSecondTap","singleTapTimeoutId","_handleDoubleTap","tapX","tapY","timing","toValue","useNativeDriver","duration","start","onSingleTap","moveStaticPinTo","pinX","pinY","viewportPosition","imageSize","zoomableEvent","touch","push","_removeTouch","splice","indexOf","onDoubleTapBefore","onDoubleTapAfter","doubleTapZoomToCenter","nextZoomStep","_getNextZoomStep","zoomPositionCoordinates","zoomTo","toFixed","listenerId","prevScale","removeListener","zoomBy","zoomLevelChange","moveTo","moveBy","offsetChangeX","offsetChangeY","render","children","onStaticPinLongPress","onStaticPinPress","pinProps","styles","container","panHandlers","zoomSubject","style","transform","scaleX","scaleY","getTranslateTransform","map","index","size","StyleSheet","alignItems","flex","justifyContent","overflow"],"mappings":"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","sourceRoot":"../../src"}
