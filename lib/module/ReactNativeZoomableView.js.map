{"version":3,"sources":["ReactNativeZoomableView.tsx"],"names":["debounce","defaults","React","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useRef","useState","Animated","PanResponder","StyleSheet","View","getZoomToAnimation","AnimatedTouchFeedback","StaticPin","DebugTouchPoint","calcGestureCenterPoint","calcGestureTouchDistance","calcNewScaledOffsetForZoomCentering","viewportPositionToImagePosition","useLatestCallback","ReactNativeZoomableView","props","ref","originalWidth","setOriginalWidth","originalHeight","setOriginalHeight","originalPageX","setOriginalPageX","originalPageY","setOriginalPageY","originalX","setOriginalX","originalY","setOriginalY","pinSize","setPinSize","width","height","debugPoints","setDebugPoints","stateTouches","setStateTouches","zoomSubjectWrapperRef","gestureHandlers","doubleTapFirstTapReleaseTimestamp","zoomEnabled","panEnabled","initialZoom","initialOffsetX","initialOffsetY","maxZoom","minZoom","pinchToZoomInSensitivity","pinchToZoomOutSensitivity","movementSensibility","doubleTapDelay","zoomStep","onLongPress","undefined","longPressDuration","contentWidth","contentHeight","visualTouchFeedbackEnabled","staticPinPosition","staticPinIcon","onStaticPinPositionChange","onStaticPinPositionMove","disablePanOnInitialZoom","panAnim","ValueXY","x","y","zoomAnim","Value","offsetX","offsetY","zoomLevel","lastGestureCenterPosition","lastGestureTouchDistance","gestureType","gestureStarted","longPressTimeout","onTransformInvocationInitialized","singleTapTimeoutId","touches","doubleTapFirstTap","measureZoomSubjectInterval","current","create","onStartShouldSetPanResponder","_handleStartShouldSetPanResponder","onPanResponderGrant","_handlePanResponderGrant","onPanResponderMove","_handlePanResponderMove","onPanResponderRelease","_handlePanResponderEnd","onPanResponderTerminate","evt","gestureState","_getZoomableViewEventObject","onPanResponderTerminationRequest","onShouldBlockNativeResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponderCapture","zoomAnimatedValue","panAnimatedValueXY","setValue","addListener","value","_invokeOnTransform","successful","onLayout","layout","nativeEvent","measureZoomSubject","setInterval","clearInterval","debouncedOnStaticPinPositionChange","zoomableViewEvent","position","_staticPinPosition","onTransform","overwriteObj","requestAnimationFrame","setTimeout","measure","pageX","pageY","e","persist","stopAnimation","_resolveAndHandleTap","clearTimeout","onPanResponderEnd","onZoomEnd","onShiftingEnd","_updateStaticPin","numberActiveTouches","_handlePinching","Math","abs","dx","dy","isShiftGesture","_handleShifting","distance","onZoomBefore","zoomGrowthFromLastGestureState","pinchToZoomSensitivity","deltaGrowth","deltaGrowthAdjustedBySensitivity","newZoomLevel","gestureCenterPoint","zoomCenter","debug","_setPinchDebugPoints","oldOffsetX","oldOffsetY","oldScale","newScale","newOffsetY","newOffsetX","offsetShift","_calcOffsetShiftSinceLastGestureState","onZoomAfter","gestureResponderEvent","points","shift","shiftX","shiftY","moveX","moveY","_setNewOffsetPosition","onShiftingBefore","onShiftingAfter","now","Date","_addTouch","id","toString","isSecondTap","_handleDoubleTap","tapX","tapY","timing","toValue","useNativeDriver","duration","start","onSingleTap","publicMoveStaticPinTo","pinX","pinY","viewportPosition","imageSize","zoomableEvent","touch","push","_removeTouch","splice","indexOf","onDoubleTapBefore","onDoubleTapAfter","doubleTapZoomToCenter","nextZoomStep","_getNextZoomStep","zoomPositionCoordinates","publicZoomTo","toFixed","listenerId","prevScale","removeListener","publicZoomBy","zoomLevelChange","publicMoveTo","publicMoveBy","offsetChangeX","offsetChangeY","zoomTo","zoomBy","moveTo","moveBy","moveStaticPinTo","children","onStaticPinLongPress","onStaticPinPress","pinProps","styles","container","panHandlers","zoomSubject","style","transform","scaleX","scaleY","getTranslateTransform","map","index","alignItems","flex","justifyContent","overflow"],"mappings":"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","sourceRoot":"../../src"}
