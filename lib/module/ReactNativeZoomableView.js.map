{"version":3,"sources":["ReactNativeZoomableView.tsx"],"names":["debounce","React","Component","createRef","Animated","PanResponder","StyleSheet","View","getZoomToAnimation","AnimatedTouchFeedback","StaticPin","DebugTouchPoint","calcGestureCenterPoint","calcGestureTouchDistance","calcNewScaledOffsetForZoomCentering","viewportPositionToImagePosition","initialState","originalWidth","originalHeight","originalPageX","originalPageY","originalX","originalY","pinSize","width","height","ReactNativeZoomableView","defaultProps","zoomEnabled","panEnabled","initialZoom","initialOffsetX","initialOffsetY","maxZoom","minZoom","pinchToZoomInSensitivity","pinchToZoomOutSensitivity","movementSensibility","doubleTapDelay","zoomStep","onLongPress","longPressDuration","contentWidth","undefined","contentHeight","visualTouchFeedbackEnabled","staticPinPosition","staticPinIcon","onStaticPinPositionChange","onStaticPinPositionMove","disablePanOnInitialZoom","panAnim","ValueXY","x","y","zoomAnim","Value","offsetX","offsetY","zoomLevel","lastGestureCenterPosition","lastGestureTouchDistance","_gestureStarted","gestureStarted","v","longPressTimeout","touches","constructor","props","state","gestureHandlers","create","onStartShouldSetPanResponder","_handleStartShouldSetPanResponder","onPanResponderGrant","_handlePanResponderGrant","onPanResponderMove","_handlePanResponderMove","onPanResponderRelease","_handlePanResponderEnd","onPanResponderTerminate","evt","gestureState","_getZoomableViewEventObject","onPanResponderTerminationRequest","onShouldBlockNativeResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponderCapture","zoomSubjectWrapperRef","zoomAnimatedValue","panAnimatedValueXY","setValue","addListener","value","gestureType","componentDidUpdate","prevProps","prevState","onTransformInvocationInitialized","_invokeOnTransform","successful","currState","originalMeasurementsChanged","staticPinPositionChanged","layout","onLayout","nativeEvent","componentDidMount","measureZoomSubject","measureZoomSubjectInterval","setInterval","componentWillUnmount","clearInterval","debouncedOnStaticPinPositionChange","position","zoomableViewEvent","_staticPinPosition","onTransform","overwriteObj","requestAnimationFrame","setTimeout","current","measure","pageX","pageY","setState","e","persist","stopAnimation","_resolveAndHandleTap","debugPoints","clearTimeout","onPanResponderEnd","onZoomEnd","onShiftingEnd","_updateStaticPin","numberActiveTouches","_handlePinching","Math","abs","dx","dy","isShiftGesture","_handleShifting","distance","onZoomBefore","zoomGrowthFromLastGestureState","pinchToZoomSensitivity","deltaGrowth","deltaGrowthAdjustedBySensitivity","newZoomLevel","gestureCenterPoint","zoomCenter","debug","_setPinchDebugPoints","oldOffsetX","oldOffsetY","oldScale","newScale","offsetShift","_calcOffsetShiftSinceLastGestureState","onZoomAfter","gestureResponderEvent","points","shift","shiftX","shiftY","moveX","moveY","_setNewOffsetPosition","newOffsetX","newOffsetY","onShiftingBefore","onShiftingAfter","now","Date","doubleTapFirstTapReleaseTimestamp","doubleTapFirstTap","_addTouch","id","toString","isSecondTap","singleTapTimeoutId","_handleDoubleTap","tapX","tapY","timing","toValue","useNativeDriver","duration","start","onSingleTap","moveStaticPinTo","pinX","pinY","viewportPosition","imageSize","zoomableEvent","touch","push","_removeTouch","splice","indexOf","onDoubleTapBefore","onDoubleTapAfter","doubleTapZoomToCenter","nextZoomStep","_getNextZoomStep","zoomPositionCoordinates","zoomTo","toFixed","listenerId","prevScale","removeListener","zoomBy","zoomLevelChange","moveTo","moveBy","offsetChangeX","offsetChangeY","render","children","onStaticPinLongPress","onStaticPinPress","pinProps","styles","container","panHandlers","zoomSubject","style","transform","scaleX","scaleY","getTranslateTransform","map","index","size","alignItems","flex","justifyContent","overflow"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,QAAzB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,QAAuD,OAAvD;AACA,SACEC,QADF,EAGEC,YAHF,EAOEC,UAPF,EAQEC,IARF,QASO,cATP;AAWA,SAASC,kBAAT,QAAmC,cAAnC;AACA,SAASC,qBAAT,QAAsC,cAAtC;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,SACEC,sBADF,EAEEC,wBAFF,EAGEC,mCAHF,QAIO,UAJP;AAKA,SAASC,+BAAT,QAAgD,+BAAhD;;AAUA,MAAMC,YAA0C,GAAG;AACjDC,EAAAA,aAAa,EAAE,CADkC;AAEjDC,EAAAA,cAAc,EAAE,CAFiC;AAGjDC,EAAAA,aAAa,EAAE,CAHkC;AAIjDC,EAAAA,aAAa,EAAE,CAJkC;AAKjDC,EAAAA,SAAS,EAAE,CALsC;AAMjDC,EAAAA,SAAS,EAAE,CANsC;AAOjDC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,MAAM,EAAE;AAApB;AAPwC,CAAnD;;AAUA,MAAMC,uBAAN,SAAsCxB,SAAtC,CAGE;AAKmB,SAAZyB,YAAY,GAAG;AACpBC,IAAAA,WAAW,EAAE,IADO;AAEpBC,IAAAA,UAAU,EAAE,IAFQ;AAGpBC,IAAAA,WAAW,EAAE,CAHO;AAIpBC,IAAAA,cAAc,EAAE,CAJI;AAKpBC,IAAAA,cAAc,EAAE,CALI;AAMpBC,IAAAA,OAAO,EAAE,GANW;AAOpBC,IAAAA,OAAO,EAAE,GAPW;AAQpBC,IAAAA,wBAAwB,EAAE,CARN;AASpBC,IAAAA,yBAAyB,EAAE,CATP;AAUpBC,IAAAA,mBAAmB,EAAE,CAVD;AAWpBC,IAAAA,cAAc,EAAE,GAXI;AAYpBC,IAAAA,QAAQ,EAAE,GAZU;AAapBC,IAAAA,WAAW,EAAE,IAbO;AAcpBC,IAAAA,iBAAiB,EAAE,GAdC;AAepBC,IAAAA,YAAY,EAAEC,SAfM;AAgBpBC,IAAAA,aAAa,EAAED,SAhBK;AAiBpBE,IAAAA,0BAA0B,EAAE,IAjBR;AAkBpBC,IAAAA,iBAAiB,EAAEH,SAlBC;AAmBpBI,IAAAA,aAAa,EAAEJ,SAnBK;AAoBpBK,IAAAA,yBAAyB,EAAEL,SApBP;AAqBpBM,IAAAA,uBAAuB,EAAEN,SArBL;AAsBpBO,IAAAA,uBAAuB,EAAE;AAtBL,GAAH;AAyBXC,EAAAA,OAAO,GAAG,IAAI/C,QAAQ,CAACgD,OAAb,CAAqB;AAAEC,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAArB,CAAH;AACEC,EAAAA,QAAQ,GAAG,IAAInD,QAAQ,CAACoD,KAAb,CAAmB,CAAnB,CAAH;AAEjBC,EAAAA,OAAO,GAAG,CAAH;AACPC,EAAAA,OAAO,GAAG,CAAH;AAEPC,EAAAA,SAAS,GAAG,CAAH;AACTC,EAAAA,yBAAyB,GAAoC,IAApC;AACzBC,EAAAA,wBAAwB,GAAkB,IAAlB;AAGxBC,EAAAA,eAAe,GAAG,KAAH;;AACG,MAAdC,cAAc,CAACC,CAAD,EAAa;AACrC,SAAKF,eAAL,GAAuBE,CAAvB;AACD;;AAEwB,MAAdD,cAAc,GAAG;AAC1B,WAAO,KAAKD,eAAZ;AACD;AAED;AACF;AACA;AACA;;;AACUG,EAAAA,gBAAgB,GAA0B,IAA1B;AAGhBC,EAAAA,OAAO,GAAiB,EAAjB;;AAIfC,EAAAA,WAAW,CAACC,KAAD,EAAsC;AAC/C,UAAMA,KAAN,EAD+C,CAE/C;AACA;AACA;;AACA,SAAKC,KAAL,GAAa,EAAE,GAAGrD;AAAL,KAAb;AAEA,SAAKsD,eAAL,GAAuBjE,YAAY,CAACkE,MAAb,CAAoB;AACzCC,MAAAA,4BAA4B,EAAE,KAAKC,iCADM;AAEzCC,MAAAA,mBAAmB,EAAE,KAAKC,wBAFe;AAGzCC,MAAAA,kBAAkB,EAAE,KAAKC,uBAHgB;AAIzCC,MAAAA,qBAAqB,EAAE,KAAKC,sBAJa;AAKzCC,MAAAA,uBAAuB,EAAE,CAACC,GAAD,EAAMC,YAAN,KAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAKH,sBAAL,CAA4BE,GAA5B,EAAiCC,YAAjC;;AACA,aAAKd,KAAL,CAAWY,uBAAX,GACEC,GADF,EAEEC,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAKD,OAlBwC;AAmBzCC,MAAAA,gCAAgC,EAAE,CAACH,GAAD,EAAMC,YAAN,KAChC,CAAC,CAAC,KAAKd,KAAL,CAAWgB,gCAAX,GACAH,GADA,EAEAC,YAFA,EAGA,KAAKC,2BAAL,EAHA,CApBqC;AAyBzC;AACAE,MAAAA,4BAA4B,EAAE,CAACJ,GAAD,EAAMC,YAAN,KAC5B,KAAKd,KAAL,CAAWiB,4BAAX,GACEJ,GADF,EAEEC,YAFF,EAGE,KAAKC,2BAAL,EAHF,KAIK,IA/BkC;AAgCzCG,MAAAA,mCAAmC,EAAE,CAACL,GAAD,EAAMC,YAAN,KACnC,CAAC,CAAC,KAAKd,KAAL,CAAWkB,mCAAX,GAAiDL,GAAjD,EAAsDC,YAAtD,CAjCqC;AAkCzCK,MAAAA,kCAAkC,EAAE,CAACN,GAAD,EAAMC,YAAN,KAClC,CAAC,CAAC,KAAKd,KAAL,CAAWmB,kCAAX,GAAgDN,GAAhD,EAAqDC,YAArD;AAnCqC,KAApB,CAAvB;AAsCA,SAAKM,qBAAL,gBAA6BrF,SAAS,EAAtC;AAEA,QAAI,KAAKiE,KAAL,CAAWqB,iBAAf,EACE,KAAKlC,QAAL,GAAgB,KAAKa,KAAL,CAAWqB,iBAA3B;AACF,QAAI,KAAKrB,KAAL,CAAWsB,kBAAf,EACE,KAAKvC,OAAL,GAAe,KAAKiB,KAAL,CAAWsB,kBAA1B;AAEF,QAAI,KAAKtB,KAAL,CAAWtC,WAAf,EAA4B,KAAK6B,SAAL,GAAiB,KAAKS,KAAL,CAAWtC,WAA5B;AAC5B,QAAI,KAAKsC,KAAL,CAAWrC,cAAX,IAA6B,IAAjC,EACE,KAAK0B,OAAL,GAAe,KAAKW,KAAL,CAAWrC,cAA1B;AACF,QAAI,KAAKqC,KAAL,CAAWpC,cAAX,IAA6B,IAAjC,EACE,KAAK0B,OAAL,GAAe,KAAKU,KAAL,CAAWpC,cAA1B;AAEF,SAAKmB,OAAL,CAAawC,QAAb,CAAsB;AAAEtC,MAAAA,CAAC,EAAE,KAAKI,OAAV;AAAmBH,MAAAA,CAAC,EAAE,KAAKI;AAA3B,KAAtB;AACA,SAAKH,QAAL,CAAcoC,QAAd,CAAuB,KAAKhC,SAA5B;AACA,SAAKR,OAAL,CAAayC,WAAb,CAAyB,CAAC;AAAEvC,MAAAA,CAAF;AAAKC,MAAAA;AAAL,KAAD,KAAc;AACrC,WAAKG,OAAL,GAAeJ,CAAf;AACA,WAAKK,OAAL,GAAeJ,CAAf;AACD,KAHD;AAIA,SAAKC,QAAL,CAAcqC,WAAd,CAA0B,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAe;AACvC,WAAKlC,SAAL,GAAiBkC,KAAjB;AACD,KAFD;AAIA,SAAKhC,wBAAL,GAAgC,GAAhC;AAEA,SAAKiC,WAAL,GAAmB,IAAnB;AACD;;AAEDC,EAAAA,kBAAkB,CAChBC,SADgB,EAEhBC,SAFgB,EAGhB;AACA,UAAM;AAAErE,MAAAA,WAAF;AAAeE,MAAAA;AAAf,QAA+B,KAAKsC,KAA1C;;AACA,QAAI4B,SAAS,CAACpE,WAAV,IAAyB,CAACA,WAA1B,IAAyCE,WAA7C,EAA0D;AACxD,WAAK6B,SAAL,GAAiB7B,WAAjB;AACA,WAAKyB,QAAL,CAAcoC,QAAd,CAAuB,KAAKhC,SAA5B;AACD;;AACD,QACE,CAAC,KAAKuC,gCAAN,IACA,KAAKC,kBAAL,GAA0BC,UAF5B,EAGE;AACA,WAAKjD,OAAL,CAAayC,WAAb,CAAyB,MAAM,KAAKO,kBAAL,EAA/B;AACA,WAAK5C,QAAL,CAAcqC,WAAd,CAA0B,MAAM,KAAKO,kBAAL,EAAhC;AACA,WAAKD,gCAAL,GAAwC,IAAxC;AACD;;AAED,UAAMG,SAAS,GAAG,KAAKhC,KAAvB;AACA,UAAMiC,2BAA2B,GAC/BD,SAAS,CAACnF,cAAV,KAA6B+E,SAAS,CAAC/E,cAAvC,IACAmF,SAAS,CAACpF,aAAV,KAA4BgF,SAAS,CAAChF,aADtC,IAEAoF,SAAS,CAAClF,aAAV,KAA4B8E,SAAS,CAAC9E,aAFtC,IAGAkF,SAAS,CAACjF,aAAV,KAA4B6E,SAAS,CAAC7E,aAHtC,IAIAiF,SAAS,CAAChF,SAAV,KAAwB4E,SAAS,CAAC5E,SAJlC,IAKAgF,SAAS,CAAC/E,SAAV,KAAwB2E,SAAS,CAAC3E,SANpC;AAQA,UAAMiF,wBAAwB,GAC5BP,SAAS,CAAClD,iBAAV,EAA6BO,CAA7B,KAAmC,KAAKe,KAAL,CAAWtB,iBAAX,EAA8BO,CAAjE,IACA2C,SAAS,CAAClD,iBAAV,EAA6BQ,CAA7B,KAAmC,KAAKc,KAAL,CAAWtB,iBAAX,EAA8BQ,CAFnE,CAxBA,CA4BA;AACA;AACA;;AACA,QAAIgD,2BAAJ,EAAiC;AAC/B,YAAME,MAAM,GAAG;AACbhF,QAAAA,KAAK,EAAE6E,SAAS,CAACpF,aADJ;AAEbQ,QAAAA,MAAM,EAAE4E,SAAS,CAACnF,cAFL;AAGbmC,QAAAA,CAAC,EAAEgD,SAAS,CAAChF,SAHA;AAIbiC,QAAAA,CAAC,EAAE+C,SAAS,CAAC/E;AAJA,OAAf;AAMA,WAAK8C,KAAL,CAAWqC,QAAX,GAAsB;AAAEC,QAAAA,WAAW,EAAE;AAAEF,UAAAA;AAAF;AAAf,OAAtB;AACD;;AAED,QACE,KAAKN,gCAAL,KACCI,2BAA2B,IAAIC,wBADhC,CADF,EAGE;AACA,WAAKJ,kBAAL;AACD;AACF;;AAEDQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,kBAAL,GADkB,CAElB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAKC,0BAAL,GAAkCC,WAAW,CAAC,KAAKF,kBAAN,EAA0B,GAA1B,CAA7C;AACD;;AAEDG,EAAAA,oBAAoB,GAAG;AACrB,SAAKF,0BAAL,IACEG,aAAa,CAAC,KAAKH,0BAAN,CADf;AAED;;AAEDI,EAAAA,kCAAkC,GAAGjH,QAAQ,CAC1CkH,QAAD,IAAqB,KAAK9C,KAAL,CAAWpB,yBAAX,GAAuCkE,QAAvC,CADsB,EAE3C,GAF2C,CAAX;AAKlC;AACF;AACA;AACA;;AACEf,EAAAA,kBAAkB,GAAG;AACnB,UAAMgB,iBAAiB,GAAG,KAAKhC,2BAAL,EAA1B;;AACA,UAAM+B,QAAQ,GAAG,KAAKE,kBAAL,EAAjB;;AAEA,QAAI,CAACD,iBAAiB,CAAClG,aAAnB,IAAoC,CAACkG,iBAAiB,CAACjG,cAA3D,EACE,OAAO;AAAEkF,MAAAA,UAAU,EAAE;AAAd,KAAP;AAEF,SAAKhC,KAAL,CAAWiD,WAAX,GAAyBF,iBAAzB;;AAEA,QAAID,QAAJ,EAAc;AACZ,WAAK9C,KAAL,CAAWnB,uBAAX,GAAqCiE,QAArC;AACA,WAAKD,kCAAL,CAAwCC,QAAxC;AACD;;AAED,WAAO;AAAEd,MAAAA,UAAU,EAAE;AAAd,KAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEjB,EAAAA,2BAA2B,CAACmC,YAAY,GAAG,EAAhB,EAAuC;AAChE,WAAO;AACL3D,MAAAA,SAAS,EAAE,KAAKA,SADX;AAELF,MAAAA,OAAO,EAAE,KAAKA,OAFT;AAGLC,MAAAA,OAAO,EAAE,KAAKA,OAHT;AAILxC,MAAAA,cAAc,EAAE,KAAKmD,KAAL,CAAWnD,cAJtB;AAKLD,MAAAA,aAAa,EAAE,KAAKoD,KAAL,CAAWpD,aALrB;AAMLE,MAAAA,aAAa,EAAE,KAAKkD,KAAL,CAAWlD,aANrB;AAOLC,MAAAA,aAAa,EAAE,KAAKiD,KAAL,CAAWjD,aAPrB;AAQL,SAAGkG;AARE,KAAP;AAUD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACUV,EAAAA,kBAAkB,GAAG,MAAM;AACjC;AACAW,IAAAA,qBAAqB,CAAC,MAAM;AAC1B;AACA;AACA;AACAC,MAAAA,UAAU,CAAC,MAAM;AACf;AACA;AACA;AACA;AACA;AACA,aAAKhC,qBAAL,CAA2BiC,OAA3B,EAAoCC,OAApC,CACE,CAACrE,CAAD,EAAIC,CAAJ,EAAO9B,KAAP,EAAcC,MAAd,EAAsBkG,KAAtB,EAA6BC,KAA7B,KAAuC;AACrC;AACA;AACA;AACA,cAAI,CAACD,KAAD,IAAU,CAACC,KAAX,IAAoB,CAACpG,KAArB,IAA8B,CAACC,MAAnC,EAA2C,OAJN,CAMrC;AACA;;AACA,cACE,KAAK4C,KAAL,CAAWhD,SAAX,KAAyBgC,CAAzB,IACA,KAAKgB,KAAL,CAAW/C,SAAX,KAAyBgC,CADzB,IAEA,KAAKe,KAAL,CAAWpD,aAAX,KAA6BO,KAF7B,IAGA,KAAK6C,KAAL,CAAWnD,cAAX,KAA8BO,MAH9B,IAIA,KAAK4C,KAAL,CAAWlD,aAAX,KAA6BwG,KAJ7B,IAKA,KAAKtD,KAAL,CAAWjD,aAAX,KAA6BwG,KAN/B,EAOE;AACA;AACD;;AAED,eAAKC,QAAL,CAAc;AACZxG,YAAAA,SAAS,EAAEgC,CADC;AAEZ/B,YAAAA,SAAS,EAAEgC,CAFC;AAGZrC,YAAAA,aAAa,EAAEO,KAHH;AAIZN,YAAAA,cAAc,EAAEO,MAJJ;AAKZN,YAAAA,aAAa,EAAEwG,KALH;AAMZvG,YAAAA,aAAa,EAAEwG;AANH,WAAd;AAQD,SA5BH;AA8BD,OApCS,CAAV;AAqCD,KAzCoB,CAArB;AA0CD,GA5CyB;AA8C1B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACEnD,EAAAA,iCAAiC,GAAG,CAClCqD,CADkC,EAElC5C,YAFkC,KAG/B;AACH,QAAI,KAAKd,KAAL,CAAWI,4BAAf,EAA6C;AAC3C,WAAKJ,KAAL,CAAWI,4BAAX,CACEsD,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF,EAIE,KAJF;AAMD,KARE,CAUH;AACA;AACA;AACA;;;AACA,WAAO,IAAP;AACD,GAlBgC;AAoBjC;AACF;AACA;AACA;AACA;AACA;AACA;;AACER,EAAAA,wBAAwB,GAEpB,CAACmD,CAAD,EAAI5C,YAAJ,KAAqB;AACvB,QAAI,KAAKd,KAAL,CAAW5B,WAAf,EAA4B;AAC1BsF,MAAAA,CAAC,CAACC,OAAF;AACA,WAAK9D,gBAAL,GAAwBuD,UAAU,CAAC,MAAM;AACvC,aAAKpD,KAAL,CAAW5B,WAAX,GACEsF,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAKA,aAAKlB,gBAAL,GAAwB,IAAxB;AACD,OAPiC,EAO/B,KAAKG,KAAL,CAAW3B,iBAPoB,CAAlC;AAQD;;AAED,SAAK2B,KAAL,CAAWM,mBAAX,GACEoD,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAMA,SAAKhC,OAAL,CAAa6E,aAAb;AACA,SAAKzE,QAAL,CAAcyE,aAAd;AACA,SAAKjE,cAAL,GAAsB,IAAtB;AACD,GAxBuB;AA0BxB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AACEgB,EAAAA,sBAAsB,GAElB,CAAC+C,CAAD,EAAI5C,YAAJ,KAAqB;AACvB,QAAI,CAAC,KAAKY,WAAV,EAAuB;AACrB,WAAKmC,oBAAL,CAA0BH,CAA1B;AACD;;AAED,SAAKD,QAAL,CAAc;AAAEK,MAAAA,WAAW,EAAE;AAAf,KAAd;AAEA,SAAKtE,yBAAL,GAAiC,IAAjC;;AAEA,QAAI,KAAKK,gBAAT,EAA2B;AACzBkE,MAAAA,YAAY,CAAC,KAAKlE,gBAAN,CAAZ;AACA,WAAKA,gBAAL,GAAwB,IAAxB;AACD;;AAED,SAAKG,KAAL,CAAWgE,iBAAX,GACEN,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;;AAMA,QAAI,KAAKW,WAAL,KAAqB,OAAzB,EAAkC;AAChC,WAAK1B,KAAL,CAAWiE,SAAX,GACEP,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAKD,KAND,MAMO,IAAI,KAAKW,WAAL,KAAqB,OAAzB,EAAkC;AACvC,WAAK1B,KAAL,CAAWkE,aAAX,GACER,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAKD;;AAED,QAAI,KAAKf,KAAL,CAAWtB,iBAAf,EAAkC;AAChC,WAAKyF,gBAAL;AACD;;AAED,SAAKzC,WAAL,GAAmB,IAAnB;AACA,SAAK/B,cAAL,GAAsB,KAAtB;AACD,GA1CqB;AA4CtB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AACEc,EAAAA,uBAAuB,GAAG,CACxBiD,CADwB,EAExB5C,YAFwB,KAGrB;AACH,QAAI,KAAKd,KAAL,CAAWQ,kBAAf,EAAmC;AACjC,UACE,KAAKR,KAAL,CAAWQ,kBAAX,CACEkD,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF,CADF,EAME;AACA,eAAO,KAAP;AACD;AACF,KAXE,CAaH;AACA;;;AACA,QAAID,YAAY,CAACsD,mBAAb,IAAoC,CAAxC,EAA2C;AACzC,UAAI,CAAC,KAAKzE,cAAV,EAA0B;AACxB,aAAKY,wBAAL,CAA8BmD,CAA9B,EAAiC5C,YAAjC;AACD;AACF,KAJD,MAIO;AACL,UAAI,KAAKnB,cAAT,EAAyB;AACvB,aAAKgB,sBAAL,CAA4B+C,CAA5B,EAA+B5C,YAA/B;AACD;;AACD,aAAO,IAAP;AACD;;AAED,QAAIA,YAAY,CAACsD,mBAAb,KAAqC,CAAzC,EAA4C;AAC1C,UAAI,KAAKvE,gBAAT,EAA2B;AACzBkE,QAAAA,YAAY,CAAC,KAAKlE,gBAAN,CAAZ;AACA,aAAKA,gBAAL,GAAwB,IAAxB;AACD,OAJyC,CAM1C;;;AACA,UAAI,KAAK6B,WAAL,KAAqB,OAAzB,EAAkC;AAChC,aAAKlC,yBAAL,GAAiChD,sBAAsB,CACrDkH,CADqD,EAErD5C,YAFqD,CAAvD;AAIA,aAAKrB,wBAAL,GAAgChD,wBAAwB,CACtDiH,CADsD,EAEtD5C,YAFsD,CAAxD;AAID;;AACD,WAAKY,WAAL,GAAmB,OAAnB;;AACA,WAAK2C,eAAL,CAAqBX,CAArB,EAAwB5C,YAAxB;AACD,KAnBD,MAmBO,IAAIA,YAAY,CAACsD,mBAAb,KAAqC,CAAzC,EAA4C;AACjD,UACE,KAAKvE,gBAAL,KACCyE,IAAI,CAACC,GAAL,CAASzD,YAAY,CAAC0D,EAAtB,IAA4B,CAA5B,IAAiCF,IAAI,CAACC,GAAL,CAASzD,YAAY,CAAC2D,EAAtB,IAA4B,CAD9D,CADF,EAGE;AACAV,QAAAA,YAAY,CAAC,KAAKlE,gBAAN,CAAZ;AACA,aAAKA,gBAAL,GAAwB,IAAxB;AACD,OAPgD,CAQjD;;;AACA,UAAI,KAAK6B,WAAL,KAAqB,OAAzB,EAAkC;AAChC,aAAKlC,yBAAL,GAAiChD,sBAAsB,CACrDkH,CADqD,EAErD5C,YAFqD,CAAvD;AAID;;AAED,YAAM;AAAE0D,QAAAA,EAAF;AAAMC,QAAAA;AAAN,UAAa3D,YAAnB;AACA,YAAM4D,cAAc,GAAGJ,IAAI,CAACC,GAAL,CAASC,EAAT,IAAe,CAAf,IAAoBF,IAAI,CAACC,GAAL,CAASE,EAAT,IAAe,CAA1D;;AACA,UAAIC,cAAJ,EAAoB;AAClB,aAAKhD,WAAL,GAAmB,OAAnB;;AACA,aAAKiD,eAAL,CAAqB7D,YAArB;AACD;AACF;AACF,GAvEsB;AAyEvB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AACEuD,EAAAA,eAAe,CACbX,CADa,EAEb5C,YAFa,EAGb;AACA,QAAI,CAAC,KAAKd,KAAL,CAAWxC,WAAhB,EAA6B;AAE7B,UAAM;AACJK,MAAAA,OADI;AAEJC,MAAAA,OAFI;AAGJC,MAAAA,wBAHI;AAIJC,MAAAA;AAJI,QAKF,KAAKgC,KALT;AAOA,UAAM4E,QAAQ,GAAGnI,wBAAwB,CAACiH,CAAD,EAAI5C,YAAJ,CAAzC;;AAEA,QACE,KAAKd,KAAL,CAAW6E,YAAX,IACA,KAAK7E,KAAL,CAAW6E,YAAX,CACEnB,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF,CAFF,EAOE;AACA;AACD;;AAED,QAAI,CAAC6D,QAAL,EAAe;AACf,QAAI,CAAC,KAAKnF,wBAAV,EAAoC,OAxBpC,CA0BA;;AACA,UAAMqF,8BAA8B,GAClCF,QAAQ,GAAG,KAAKnF,wBADlB;AAEA,SAAKA,wBAAL,GAAgCmF,QAAhC;AAEA,UAAMG,sBAAsB,GAC1BD,8BAA8B,GAAG,CAAjC,GACI9G,yBADJ,GAEID,wBAHN;AAKA,QAAIgH,sBAAsB,IAAI,IAA9B,EAAoC;AACpC,UAAMC,WAAW,GAAGF,8BAA8B,GAAG,CAArD,CArCA,CAsCA;AACA;;AACA,UAAMG,gCAAgC,GACpCD,WAAW,IAAI,IAAKD,sBAAsB,GAAG,CAA1B,GAA+B,GAAvC,CADb;AAGA,QAAIG,YAAY,GAAG,KAAK3F,SAAL,IAAkB,IAAI0F,gCAAtB,CAAnB,CA3CA,CA6CA;;AACA,QAAIpH,OAAO,IAAI,IAAX,IAAmBqH,YAAY,GAAGrH,OAAtC,EAA+C;AAC7CqH,MAAAA,YAAY,GAAGrH,OAAf;AACD;;AAED,QAAIC,OAAO,IAAI,IAAX,IAAmBoH,YAAY,GAAGpH,OAAtC,EAA+C;AAC7CoH,MAAAA,YAAY,GAAGpH,OAAf;AACD;;AAED,UAAMqH,kBAAkB,GAAG3I,sBAAsB,CAACkH,CAAD,EAAI5C,YAAJ,CAAjD;AAEA,QAAI,CAACqE,kBAAL,EAAyB;AAEzB,QAAIC,UAAU,GAAG;AACfnG,MAAAA,CAAC,EAAEkG,kBAAkB,CAAClG,CAAnB,GAAuB,KAAKgB,KAAL,CAAWlD,aADtB;AAEfmC,MAAAA,CAAC,EAAEiG,kBAAkB,CAACjG,CAAnB,GAAuB,KAAKe,KAAL,CAAWjD;AAFtB,KAAjB;;AAKA,QAAI,KAAKgD,KAAL,CAAWtB,iBAAf,EAAkC;AAChC;AACA;AACA0G,MAAAA,UAAU,GAAG;AACXnG,QAAAA,CAAC,EAAE,KAAKe,KAAL,CAAWtB,iBAAX,CAA6BO,CADrB;AAEXC,QAAAA,CAAC,EAAE,KAAKc,KAAL,CAAWtB,iBAAX,CAA6BQ;AAFrB,OAAb;AAID,KAtED,CAwEA;;;AACA,SAAKc,KAAL,CAAWqF,KAAX,IAAoB,KAAKC,oBAAL,CAA0B5B,CAA1B,EAA6B0B,UAA7B,CAApB;AAEA,UAAM;AAAEtI,MAAAA,cAAF;AAAkBD,MAAAA;AAAlB,QAAoC,KAAKoD,KAA/C;AAEA,UAAMsF,UAAU,GAAG,KAAKlG,OAAxB;AACA,UAAMmG,UAAU,GAAG,KAAKlG,OAAxB;AACA,UAAMmG,QAAQ,GAAG,KAAKlG,SAAtB;AACA,UAAMmG,QAAQ,GAAGR,YAAjB;AAEA,QAAI,CAACpI,cAAD,IAAmB,CAACD,aAAxB,EAAuC;AAEvC,QAAIyC,OAAO,GAAG5C,mCAAmC,CAC/C8I,UAD+C,EAE/C1I,cAF+C,EAG/C2I,QAH+C,EAI/CC,QAJ+C,EAK/CN,UAAU,CAAClG,CALoC,CAAjD;AAOA,QAAIG,OAAO,GAAG3C,mCAAmC,CAC/C6I,UAD+C,EAE/C1I,aAF+C,EAG/C4I,QAH+C,EAI/CC,QAJ+C,EAK/CN,UAAU,CAACnG,CALoC,CAAjD;;AAQA,UAAM0G,WAAW,GACf,KAAKC,qCAAL,CAA2CT,kBAA3C,CADF;;AAEA,QAAIQ,WAAJ,EAAiB;AACftG,MAAAA,OAAO,IAAIsG,WAAW,CAAC1G,CAAvB;AACAK,MAAAA,OAAO,IAAIqG,WAAW,CAACzG,CAAvB;AACD;;AAED,SAAKG,OAAL,GAAeA,OAAf;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,SAAL,GAAiBmG,QAAjB;AAEA,SAAK3G,OAAL,CAAawC,QAAb,CAAsB;AAAEtC,MAAAA,CAAC,EAAE,KAAKI,OAAV;AAAmBH,MAAAA,CAAC,EAAE,KAAKI;AAA3B,KAAtB;AACA,SAAKH,QAAL,CAAcoC,QAAd,CAAuB,KAAKhC,SAA5B;AAEA,SAAKS,KAAL,CAAW6F,WAAX,GACEnC,CADF,EAEE5C,YAFF,EAGE,KAAKC,2BAAL,EAHF;AAKD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEuE,EAAAA,oBAAoB,CAClBQ,qBADkB,EAElBV,UAFkB,EAGlB,GAAGW,MAHe,EAIlB;AACA,UAAM;AAAEjG,MAAAA;AAAF,QAAcgG,qBAAqB,CAACxD,WAA1C;AACA,UAAM;AAAEtF,MAAAA,aAAF;AAAiBD,MAAAA;AAAjB,QAAmC,KAAKkD,KAA9C;AAEA,SAAKwD,QAAL,CAAc;AACZK,MAAAA,WAAW,EAAE,CACX;AACE7E,QAAAA,CAAC,EAAEa,OAAO,CAAC,CAAD,CAAP,CAAWyD,KAAX,GAAmBxG,aADxB;AAEEmC,QAAAA,CAAC,EAAEY,OAAO,CAAC,CAAD,CAAP,CAAW0D,KAAX,GAAmBxG;AAFxB,OADW,EAKX;AACEiC,QAAAA,CAAC,EAAEa,OAAO,CAAC,CAAD,CAAP,CAAWyD,KAAX,GAAmBxG,aADxB;AAEEmC,QAAAA,CAAC,EAAEY,OAAO,CAAC,CAAD,CAAP,CAAW0D,KAAX,GAAmBxG;AAFxB,OALW,EASXoI,UATW,EAUX,GAAGW,MAVQ;AADD,KAAd;AAcD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACEH,EAAAA,qCAAqC,CAACT,kBAAD,EAA4B;AAC/D,UAAM;AAAElH,MAAAA;AAAF,QAA0B,KAAK+B,KAArC;AAEA,QAAIgG,KAAK,GAAG,IAAZ;;AAEA,QAAI,KAAKxG,yBAAL,IAAkCvB,mBAAtC,EAA2D;AACzD,YAAMuG,EAAE,GAAGW,kBAAkB,CAAClG,CAAnB,GAAuB,KAAKO,yBAAL,CAA+BP,CAAjE;AACA,YAAMwF,EAAE,GAAGU,kBAAkB,CAACjG,CAAnB,GAAuB,KAAKM,yBAAL,CAA+BN,CAAjE;AAEA,YAAM+G,MAAM,GAAGzB,EAAE,GAAG,KAAKjF,SAAV,GAAsBtB,mBAArC;AACA,YAAMiI,MAAM,GAAGzB,EAAE,GAAG,KAAKlF,SAAV,GAAsBtB,mBAArC;AAEA+H,MAAAA,KAAK,GAAG;AACN/G,QAAAA,CAAC,EAAEgH,MADG;AAEN/G,QAAAA,CAAC,EAAEgH;AAFG,OAAR;AAID;;AAED,SAAK1G,yBAAL,GAAiC2F,kBAAjC;AAEA,WAAOa,KAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACErB,EAAAA,eAAe,CAAC7D,YAAD,EAAyC;AACtD;AACA,QACE,CAAC,KAAKd,KAAL,CAAWvC,UAAZ,IACC,KAAKuC,KAAL,CAAWlB,uBAAX,IACC,KAAKS,SAAL,KAAmB,KAAKS,KAAL,CAAWtC,WAHlC,EAIE;AACA;AACD;;AACD,UAAMsI,KAAK,GAAG,KAAKJ,qCAAL,CAA2C;AACvD3G,MAAAA,CAAC,EAAE6B,YAAY,CAACqF,KADuC;AAEvDjH,MAAAA,CAAC,EAAE4B,YAAY,CAACsF;AAFuC,KAA3C,CAAd;;AAIA,QAAI,CAACJ,KAAL,EAAY;AAEZ,UAAM3G,OAAO,GAAG,KAAKA,OAAL,GAAe2G,KAAK,CAAC/G,CAArC;AACA,UAAMK,OAAO,GAAG,KAAKA,OAAL,GAAe0G,KAAK,CAAC9G,CAArC;;AAEA,QACE,KAAKc,KAAL,CAAWqF,KAAX,IACA,KAAKpF,KAAL,CAAWlD,aADX,IAEA,KAAKkD,KAAL,CAAWjD,aAHb,EAIE;AACA,YAAMiC,CAAC,GAAG6B,YAAY,CAACqF,KAAb,GAAqB,KAAKlG,KAAL,CAAWlD,aAA1C;AACA,YAAMmC,CAAC,GAAG4B,YAAY,CAACsF,KAAb,GAAqB,KAAKnG,KAAL,CAAWjD,aAA1C;AACA,WAAKyG,QAAL,CAAc;AAAEK,QAAAA,WAAW,EAAE,CAAC;AAAE7E,UAAAA,CAAF;AAAKC,UAAAA;AAAL,SAAD;AAAf,OAAd;AACD;;AAED,SAAKmH,qBAAL,CAA2BhH,OAA3B,EAAoCC,OAApC;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACE+G,EAAAA,qBAAqB,CAACC,UAAD,EAAqBC,UAArB,EAAyC;AAC5D,UAAM;AAAEC,MAAAA,gBAAF;AAAoBC,MAAAA;AAApB,QAAwC,KAAKzG,KAAnD;;AAEA,QAAIwG,gBAAgB,GAAG,IAAH,EAAS,IAAT,EAAe,KAAKzF,2BAAL,EAAf,CAApB,EAAwE;AACtE;AACD;;AAED,SAAK1B,OAAL,GAAeiH,UAAf;AACA,SAAKhH,OAAL,GAAeiH,UAAf;AAEA,SAAKxH,OAAL,CAAawC,QAAb,CAAsB;AAAEtC,MAAAA,CAAC,EAAE,KAAKI,OAAV;AAAmBH,MAAAA,CAAC,EAAE,KAAKI;AAA3B,KAAtB;AACA,SAAKH,QAAL,CAAcoC,QAAd,CAAuB,KAAKhC,SAA5B;AAEAkH,IAAAA,eAAe,GAAG,IAAH,EAAS,IAAT,EAAe,KAAK1F,2BAAL,EAAf,CAAf;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;AACU8C,EAAAA,oBAAoB,GAAIH,CAAD,IAA8B;AAC3D,UAAMgD,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;;AACA,QACE,KAAKE,iCAAL,IACA,KAAK5G,KAAL,CAAW9B,cADX,IAEAwI,GAAG,GAAG,KAAKE,iCAAX,GAA+C,KAAK5G,KAAL,CAAW9B,cAH5D,EAIE;AACA,WAAK2I,iBAAL,IACE,KAAKC,SAAL,CAAe,EACb,GAAG,KAAKD,iBADK;AAEbE,QAAAA,EAAE,EAAEL,GAAG,CAACM,QAAJ,EAFS;AAGbC,QAAAA,WAAW,EAAE;AAHA,OAAf,CADF;AAMA,WAAKC,kBAAL,IAA2BnD,YAAY,CAAC,KAAKmD,kBAAN,CAAvC;AACA,aAAO,KAAKN,iCAAZ;AACA,aAAO,KAAKM,kBAAZ;AACA,aAAO,KAAKL,iBAAZ;;AACA,WAAKM,gBAAL,CAAsBzD,CAAtB;AACD,KAhBD,MAgBO;AACL,WAAKkD,iCAAL,GAAyCF,GAAzC;AACA,WAAKG,iBAAL,GAAyB;AACvBE,QAAAA,EAAE,EAAEL,GAAG,CAACM,QAAJ,EADmB;AAEvB/H,QAAAA,CAAC,EAAEyE,CAAC,CAACpB,WAAF,CAAciB,KAAd,GAAsB,KAAKtD,KAAL,CAAWlD,aAFb;AAGvBmC,QAAAA,CAAC,EAAEwE,CAAC,CAACpB,WAAF,CAAckB,KAAd,GAAsB,KAAKvD,KAAL,CAAWjD;AAHb,OAAzB;;AAKA,WAAK8J,SAAL,CAAe,KAAKD,iBAApB,EAPK,CASL;;;AACAnD,MAAAA,CAAC,CAACC,OAAF;AACA,WAAKuD,kBAAL,GAA0B9D,UAAU,CAAC,MAAM;AACzC,eAAO,KAAKwD,iCAAZ;AACA,eAAO,KAAKM,kBAAZ,CAFyC,CAIzC;;AACA,YAAI,KAAKlH,KAAL,CAAWtB,iBAAX,IAAgC,KAAKmI,iBAAzC,EAA4D;AAC1D,gBAAMO,IAAI,GACR,KAAKpH,KAAL,CAAWtB,iBAAX,CAA6BO,CAA7B,GAAiC,KAAK4H,iBAAL,CAAuB5H,CAD1D;AAEA,gBAAMoI,IAAI,GACR,KAAKrH,KAAL,CAAWtB,iBAAX,CAA6BQ,CAA7B,GAAiC,KAAK2H,iBAAL,CAAuB3H,CAD1D;AAGAlD,UAAAA,QAAQ,CAACsL,MAAT,CAAgB,KAAKvI,OAArB,EAA8B;AAC5BwI,YAAAA,OAAO,EAAE;AACPtI,cAAAA,CAAC,EAAE,KAAKI,OAAL,GAAe+H,IAAI,GAAG,KAAK7H,SADvB;AAEPL,cAAAA,CAAC,EAAE,KAAKI,OAAL,GAAe+H,IAAI,GAAG,KAAK9H;AAFvB,aADmB;AAK5BiI,YAAAA,eAAe,EAAE,IALW;AAM5BC,YAAAA,QAAQ,EAAE;AANkB,WAA9B,EAOGC,KAPH,CAOS,MAAM;AACb,iBAAKvD,gBAAL;AACD,WATD;AAUD;;AAED,aAAKnE,KAAL,CAAW2H,WAAX,GAAyBjE,CAAzB,EAA4B,KAAK3C,2BAAL,EAA5B;AACD,OAxBmC,EAwBjC,KAAKf,KAAL,CAAW9B,cAxBsB,CAApC;AAyBD;AACF,GAvD2B;AAyD5B0J,EAAAA,eAAe,GAAG,CAAC9E,QAAD,EAAkB2E,QAAlB,KAAwC;AACxD,UAAM;AAAE5K,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAAoC,KAAKmD,KAA/C;AACA,UAAM;AAAEvB,MAAAA,iBAAF;AAAqBJ,MAAAA,YAArB;AAAmCE,MAAAA;AAAnC,QAAqD,KAAKwB,KAAhE;AAEA,QAAI,CAACtB,iBAAL,EAAwB;AACxB,QAAI,CAAC7B,aAAD,IAAkB,CAACC,cAAvB,EAAuC;AACvC,QAAI,CAACwB,YAAD,IAAiB,CAACE,aAAtB,EAAqC,OANmB,CAQxD;;AACA,UAAMqJ,IAAI,GAAGnJ,iBAAiB,CAACO,CAAlB,GAAsBpC,aAAa,GAAG,CAAnD;AACA,UAAMiL,IAAI,GAAGpJ,iBAAiB,CAACQ,CAAlB,GAAsBpC,cAAc,GAAG,CAApD;AAEA,SAAKuC,OAAL,GAAef,YAAY,GAAG,CAAf,GAAmBwE,QAAQ,CAAC7D,CAA5B,GAAgC4I,IAAI,GAAG,KAAKtI,SAA3D;AACA,SAAKD,OAAL,GAAed,aAAa,GAAG,CAAhB,GAAoBsE,QAAQ,CAAC5D,CAA7B,GAAiC4I,IAAI,GAAG,KAAKvI,SAA5D;;AAEA,QAAIkI,QAAJ,EAAc;AACZzL,MAAAA,QAAQ,CAACsL,MAAT,CAAgB,KAAKvI,OAArB,EAA8B;AAC5BwI,QAAAA,OAAO,EAAE;AAAEtI,UAAAA,CAAC,EAAE,KAAKI,OAAV;AAAmBH,UAAAA,CAAC,EAAE,KAAKI;AAA3B,SADmB;AAE5BkI,QAAAA,eAAe,EAAE,IAFW;AAG5BC,QAAAA;AAH4B,OAA9B,EAIGC,KAJH;AAKD,KAND,MAMO;AACL,WAAK3I,OAAL,CAAawC,QAAb,CAAsB;AAAEtC,QAAAA,CAAC,EAAE,KAAKI,OAAV;AAAmBH,QAAAA,CAAC,EAAE,KAAKI;AAA3B,OAAtB;AACD;AACF,GAxBc;AA0BP0D,EAAAA,kBAAkB,GAAG,MAAM;AACjC,QAAI,CAAC,KAAKhD,KAAL,CAAWtB,iBAAhB,EAAmC;AACnC,QAAI,CAAC,KAAKsB,KAAL,CAAW1B,YAAZ,IAA4B,CAAC,KAAK0B,KAAL,CAAWxB,aAA5C,EAA2D;AAE3D,WAAO7B,+BAA+B,CAAC;AACrCoL,MAAAA,gBAAgB,EAAE;AAChB9I,QAAAA,CAAC,EAAE,KAAKe,KAAL,CAAWtB,iBAAX,CAA6BO,CADhB;AAEhBC,QAAAA,CAAC,EAAE,KAAKc,KAAL,CAAWtB,iBAAX,CAA6BQ;AAFhB,OADmB;AAKrC8I,MAAAA,SAAS,EAAE;AACT3K,QAAAA,MAAM,EAAE,KAAK2C,KAAL,CAAWxB,aADV;AAETpB,QAAAA,KAAK,EAAE,KAAK4C,KAAL,CAAW1B;AAFT,OAL0B;AASrC2J,MAAAA,aAAa,EAAE,EACb,GAAG,KAAKlH,2BAAL,EADU;AAEb1B,QAAAA,OAAO,EAAE,KAAKA,OAFD;AAGbC,QAAAA,OAAO,EAAE,KAAKA,OAHD;AAIbC,QAAAA,SAAS,EAAE,KAAKA;AAJH;AATsB,KAAD,CAAtC;AAgBD,GApByB;AAsBlB4E,EAAAA,gBAAgB,GAAG,MAAM;AAC/B,UAAMrB,QAAQ,GAAG,KAAKE,kBAAL,EAAjB;;AACA,QAAI,CAACF,QAAL,EAAe;AACf,SAAK9C,KAAL,CAAWpB,yBAAX,GAAuCkE,QAAvC;AACD,GAJuB;;AAMhBgE,EAAAA,SAAS,CAACoB,KAAD,EAAoB;AACnC,SAAKpI,OAAL,CAAaqI,IAAb,CAAkBD,KAAlB;AACA,SAAKzE,QAAL,CAAc;AAAE3D,MAAAA,OAAO,EAAE,CAAC,GAAG,KAAKA,OAAT;AAAX,KAAd;AACD;;AAEOsI,EAAAA,YAAY,CAACF,KAAD,EAAoB;AACtC,SAAKpI,OAAL,CAAauI,MAAb,CAAoB,KAAKvI,OAAL,CAAawI,OAAb,CAAqBJ,KAArB,CAApB,EAAiD,CAAjD;AACA,SAAKzE,QAAL,CAAc;AAAE3D,MAAAA,OAAO,EAAE,CAAC,GAAG,KAAKA,OAAT;AAAX,KAAd;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;;;AACEqH,EAAAA,gBAAgB,CAACzD,CAAD,EAA2B;AACzC,UAAM;AAAE6E,MAAAA,iBAAF;AAAqBC,MAAAA,gBAArB;AAAuCC,MAAAA;AAAvC,QACJ,KAAKzI,KADP;AAGAuI,IAAAA,iBAAiB,GAAG7E,CAAH,EAAM,KAAK3C,2BAAL,EAAN,CAAjB;;AAEA,UAAM2H,YAAY,GAAG,KAAKC,gBAAL,EAArB;;AACA,QAAID,YAAY,IAAI,IAApB,EAA0B;AAE1B,UAAM;AAAE3L,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAAmC,KAAKiD,KAA9C,CATyC,CAWzC;;AACA,UAAM2I,uBAAuB,GAAG;AAC9B3J,MAAAA,CAAC,EAAEyE,CAAC,CAACpB,WAAF,CAAciB,KAAd,GAAsBxG,aADK;AAE9BmC,MAAAA,CAAC,EAAEwE,CAAC,CAACpB,WAAF,CAAckB,KAAd,GAAsBxG;AAFK,KAAhC,CAZyC,CAiBzC;;AACA,QAAIyL,qBAAJ,EAA2B;AACzBG,MAAAA,uBAAuB,CAAC3J,CAAxB,GAA4B,CAA5B;AACA2J,MAAAA,uBAAuB,CAAC1J,CAAxB,GAA4B,CAA5B;AACD;;AAED,SAAK2J,MAAL,CAAYH,YAAZ,EAA0BE,uBAA1B;AAEAJ,IAAAA,gBAAgB,GACd9E,CADc,EAEd,KAAK3C,2BAAL,CAAiC;AAAExB,MAAAA,SAAS,EAAEmJ;AAAb,KAAjC,CAFc,CAAhB;AAID;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,gBAAgB,GAAG;AACjB,UAAM;AAAExK,MAAAA,QAAF;AAAYN,MAAAA,OAAZ;AAAqBH,MAAAA;AAArB,QAAqC,KAAKsC,KAAhD;AACA,UAAM;AAAET,MAAAA;AAAF,QAAgB,IAAtB;AAEA,QAAI1B,OAAO,IAAI,IAAf,EAAqB;;AAErB,QAAI0B,SAAS,CAACuJ,OAAV,CAAkB,CAAlB,MAAyBjL,OAAO,CAACiL,OAAR,CAAgB,CAAhB,CAA7B,EAAiD;AAC/C,aAAOpL,WAAP;AACD;;AAED,QAAIS,QAAQ,IAAI,IAAhB,EAAsB;AAEtB,UAAMuK,YAAY,GAAGnJ,SAAS,IAAI,IAAIpB,QAAR,CAA9B;;AACA,QAAIuK,YAAY,GAAG7K,OAAnB,EAA4B;AAC1B,aAAOA,OAAP;AACD;;AAED,WAAO6K,YAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACEG,EAAAA,MAAM,CAAC3D,YAAD,EAAuBE,UAAvB,EAA2C;AAC/C,QAAI,CAAC,KAAKpF,KAAL,CAAWxC,WAAhB,EAA6B,OAAO,KAAP;AAC7B,QAAI,KAAKwC,KAAL,CAAWnC,OAAX,IAAsBqH,YAAY,GAAG,KAAKlF,KAAL,CAAWnC,OAApD,EAA6D,OAAO,KAAP;AAC7D,QAAI,KAAKmC,KAAL,CAAWlC,OAAX,IAAsBoH,YAAY,GAAG,KAAKlF,KAAL,CAAWlC,OAApD,EAA6D,OAAO,KAAP;AAE7D,SAAKkC,KAAL,CAAW6E,YAAX,GAA0B,IAA1B,EAAgC,IAAhC,EAAsC,KAAK9D,2BAAL,EAAtC,EAL+C,CAO/C;;AACA,QAAIgI,UAAU,GAAG,EAAjB;;AACA,QAAI3D,UAAJ,EAAgB;AACd;AACA,UAAI4D,SAAS,GAAG,KAAKzJ,SAArB,CAFc,CAGd;AACA;AACA;AACA;;AACAwJ,MAAAA,UAAU,GAAG,KAAK5J,QAAL,CAAcqC,WAAd,CAA0B,CAAC;AAAEC,QAAAA,KAAK,EAAEiE;AAAT,OAAD,KAAyB;AAC9D,aAAK3G,OAAL,CAAawC,QAAb,CAAsB;AACpBtC,UAAAA,CAAC,EAAEvC,mCAAmC,CACpC,KAAK2C,OAD+B,EAEpC,KAAKY,KAAL,CAAWpD,aAFyB,EAGpCmM,SAHoC,EAIpCtD,QAJoC,EAKpCN,UAAU,CAACnG,CALyB,CADlB;AAQpBC,UAAAA,CAAC,EAAExC,mCAAmC,CACpC,KAAK4C,OAD+B,EAEpC,KAAKW,KAAL,CAAWnD,cAFyB,EAGpCkM,SAHoC,EAIpCtD,QAJoC,EAKpCN,UAAU,CAAClG,CALyB;AARlB,SAAtB;AAgBA8J,QAAAA,SAAS,GAAGtD,QAAZ;AACD,OAlBY,CAAb;AAmBD,KAnC8C,CAqC/C;;;AACAtJ,IAAAA,kBAAkB,CAAC,KAAK+C,QAAN,EAAgB+F,YAAhB,CAAlB,CAAgDwC,KAAhD,CAAsD,MAAM;AAC1D,WAAKvI,QAAL,CAAc8J,cAAd,CAA6BF,UAA7B;AACD,KAFD,EAtC+C,CAyC/C;;AAEA,SAAK/I,KAAL,CAAW6F,WAAX,GAAyB,IAAzB,EAA+B,IAA/B,EAAqC,KAAK9E,2BAAL,EAArC;AACA,WAAO,IAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACEmI,EAAAA,MAAM,CAACC,eAAD,EAA0B;AAC9B;AACAA,IAAAA,eAAe,KAAK,KAAKnJ,KAAL,CAAW7B,QAAX,IAAuB,CAA3C;AACA,WAAO,KAAK0K,MAAL,CAAY,KAAKtJ,SAAL,GAAiB4J,eAA7B,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACEC,EAAAA,MAAM,CAAC9C,UAAD,EAAqBC,UAArB,EAAyC;AAC7C,UAAM;AAAE1J,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QAAoC,KAAKmD,KAA/C;AACA,QAAI,CAACpD,aAAD,IAAkB,CAACC,cAAvB,EAAuC;AAEvC,UAAMuC,OAAO,GAAG,CAACiH,UAAU,GAAGzJ,aAAa,GAAG,CAA9B,IAAmC,KAAK0C,SAAxD;AACA,UAAMD,OAAO,GAAG,CAACiH,UAAU,GAAGzJ,cAAc,GAAG,CAA/B,IAAoC,KAAKyC,SAAzD;;AAEA,SAAK8G,qBAAL,CAA2B,CAAChH,OAA5B,EAAqC,CAACC,OAAtC;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACE+J,EAAAA,MAAM,CAACC,aAAD,EAAwBC,aAAxB,EAA+C;AACnD,UAAMlK,OAAO,GACX,CAAC,KAAKA,OAAL,GAAe,KAAKE,SAApB,GAAgC+J,aAAjC,IAAkD,KAAK/J,SADzD;AAEA,UAAMD,OAAO,GACX,CAAC,KAAKA,OAAL,GAAe,KAAKC,SAApB,GAAgCgK,aAAjC,IAAkD,KAAKhK,SADzD;;AAGA,SAAK8G,qBAAL,CAA2BhH,OAA3B,EAAoCC,OAApC;AACD;;AAEDkK,EAAAA,MAAM,GAAG;AACP,UAAM;AACJ7K,MAAAA,aADI;AAEJ8K,MAAAA,QAFI;AAGJhL,MAAAA,0BAHI;AAIJP,MAAAA,cAJI;AAKJQ,MAAAA,iBALI;AAMJgL,MAAAA,oBANI;AAOJC,MAAAA,gBAPI;AAQJC,MAAAA;AARI,QASF,KAAK5J,KATT;AAWA,UAAM;AAAE7C,MAAAA,OAAF;AAAW2C,MAAAA,OAAX;AAAoBgE,MAAAA,WAAW,GAAG;AAAlC,QAAyC,KAAK7D,KAApD;AAEA,wBACE,MAAC,IAAD;AACE,MAAA,KAAK,EAAE4J,MAAM,CAACC,SADhB;AAAA,SAEM,KAAK5J,eAAL,CAAqB6J,WAF3B;AAGE,MAAA,GAAG,EAAE,KAAK3I,qBAHZ;AAIE,MAAA,QAAQ,EAAE,KAAKoB,kBAJjB;AAAA,8BAME,KAAC,QAAD,CAAU,IAAV;AACE,QAAA,KAAK,EAAE,CACLqH,MAAM,CAACG,WADF,EAEL,KAAKhK,KAAL,CAAWiK,KAFN,EAGL;AACEC,UAAAA,SAAS,EAAE,CACT;AACA;AACA;AAAEC,YAAAA,MAAM,EAAE,KAAKhL;AAAf,WAHS,EAIT;AAAEiL,YAAAA,MAAM,EAAE,KAAKjL;AAAf,WAJS,EAKT,GAAG,KAAKJ,OAAL,CAAasL,qBAAb,EALM;AADb,SAHK,CADT;AAAA,kBAeGZ;AAfH,QANF,EAwBGhL,0BAA0B,IACzBqB,OAAO,EAAEwK,GAAT,CACGpC,KAAD,IACEhK,cAAc,iBACZ,KAAC,qBAAD;AACE,QAAA,CAAC,EAAEgK,KAAK,CAACjJ,CADX;AAEE,QAAA,CAAC,EAAEiJ,KAAK,CAAChJ,CAFX;AAIE,QAAA,iBAAiB,EAAEhB,cAJrB;AAKE,QAAA,eAAe,EAAE,MAAM;AACrB,eAAKkK,YAAL,CAAkBF,KAAlB;AACD;AAPH,SAGOA,KAAK,CAACnB,EAHb,CAHN,CAzBJ,EAyCGjD,WAAW,CAACwG,GAAZ,CAAgB,CAAC;AAAErL,QAAAA,CAAF;AAAKC,QAAAA;AAAL,OAAD,EAAWqL,KAAX,KAAqB;AACpC,4BAAO,KAAC,eAAD;AAA6B,UAAA,CAAC,EAAEtL,CAAhC;AAAmC,UAAA,CAAC,EAAEC;AAAtC,WAAsBqL,KAAtB,CAAP;AACD,OAFA,CAzCH,EA6CG7L,iBAAiB,iBAChB,KAAC,SAAD;AACE,QAAA,aAAa,EAAEC,aADjB;AAEE,QAAA,iBAAiB,EAAED,iBAFrB;AAGE,QAAA,OAAO,EAAEvB,OAHX;AAIE,QAAA,OAAO,EAAEwM,gBAJX;AAKE,QAAA,WAAW,EAAED,oBALf;AAME,QAAA,YAAY,EAAE,KAAKjJ,uBANrB;AAOE,QAAA,UAAU,EAAG+J,IAAD,IAAkB;AAC5B,eAAK/G,QAAL,CAAc;AAAEtG,YAAAA,OAAO,EAAEqN;AAAX,WAAd;AACD,SATH;AAUE,QAAA,QAAQ,EAAEZ;AAVZ,QA9CJ;AAAA,MADF;AA8DD;;AAvmCD;;AA0mCF,MAAMC,MAAM,GAAG3N,UAAU,CAACiE,MAAX,CAAkB;AAC/B2J,EAAAA,SAAS,EAAE;AACTW,IAAAA,UAAU,EAAE,QADH;AAETC,IAAAA,IAAI,EAAE,CAFG;AAGTC,IAAAA,cAAc,EAAE,QAHP;AAITC,IAAAA,QAAQ,EAAE,QAJD;AAKT9H,IAAAA,QAAQ,EAAE;AALD,GADoB;AAQ/BkH,EAAAA,WAAW,EAAE;AACXS,IAAAA,UAAU,EAAE,QADD;AAEXC,IAAAA,IAAI,EAAE,CAFK;AAGXC,IAAAA,cAAc,EAAE,QAHL;AAIXvN,IAAAA,KAAK,EAAE;AAJI;AARkB,CAAlB,CAAf;AAgBA,eAAeE,uBAAf;AAEA,SAASA,uBAAT","sourceRoot":"../../src"}
